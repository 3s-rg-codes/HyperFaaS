syntax = "proto3";

package leaf;

import "common/common.proto";

option go_package = "github.com/3s-rg-codes/HyperFaaS/proto/leaf";

message RegisterFunctionRequest {
  common.CreateFunctionRequest config = 1;
  string function_id = 2;
}

service Leaf {
  // Schedules a function call on the worker identified by the provided function ID.
  rpc ScheduleCall(common.CallRequest) returns (common.CallResponse);
  // Registers a function autoscaler on the leaf. 
  // Must be called before calling ScheduleCall.
  // An entry for the function must exist in the database.
  rpc RegisterFunction(RegisterFunctionRequest) returns (common.CreateFunctionResponse);
}
